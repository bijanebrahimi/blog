<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Routines Excluded - OpenBSD</title><link href="http://bijanebrahimi.github.io/blog/" rel="alternate"></link><link href="http://bijanebrahimi.github.io/blog/feeds/openbsd.atom.xml" rel="self"></link><id>http://bijanebrahimi.github.io/blog/</id><updated>2017-10-31T21:15:00+03:30</updated><entry><title>My OpenBSD Setup</title><link href="http://bijanebrahimi.github.io/blog/my-openbsd-setup.html" rel="alternate"></link><published>2017-10-31T21:15:00+03:30</published><updated>2017-10-31T21:15:00+03:30</updated><author><name>Bijan</name></author><id>tag:bijanebrahimi.github.io,2017-10-31:/blog/my-openbsd-setup.html</id><summary type="html">&lt;p&gt;Today, I'm going to write about my personal experience with OpenBSD on my Laptop
as an OpenBSD user. I think I will come back day to day and update this blog
post, but currently the following topics are coeverd:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#network-managers"&gt;Network Managers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#filesystem-auto-mount"&gt;Filesystem Auto-Mount&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#desktop-notification-daemon"&gt;Desktop Notification Daemon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TODO:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android Integration&lt;/li&gt;
&lt;li&gt;Development …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Today, I'm going to write about my personal experience with OpenBSD on my Laptop
as an OpenBSD user. I think I will come back day to day and update this blog
post, but currently the following topics are coeverd:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#network-managers"&gt;Network Managers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#filesystem-auto-mount"&gt;Filesystem Auto-Mount&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#desktop-notification-daemon"&gt;Desktop Notification Daemon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TODO:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Android Integration&lt;/li&gt;
&lt;li&gt;Development Environment&lt;/li&gt;
&lt;li&gt;Themes&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Network Managers&lt;/h2&gt;
&lt;p&gt;I found &lt;a href="https://github.com/akpoff/netctl/"&gt;netctl(8)&lt;/a&gt; an interesting utility.It supports
network configuration separated based on Location or nwids (for wifi networks).
The manpage is complete (OpenBSD Style) but the idea is simple and clear. netctl
keeps &lt;a href="http://man.openbsd.org/hostname.if.5"&gt;hostname.if(5)&lt;/a&gt; configuration files categorized in &lt;code&gt;/etc/hostname.d&lt;/code&gt;
directory by loaction or nwids and then symlink them into &lt;code&gt;/etc&lt;/code&gt; at startup
or by switching to different locations on-demand:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ ls -lR /etc/hostname.*
/etc/hostname.run0 -&amp;gt; /etc/hostname.d/nwids/BlackHole.nwid

/etc/hostname.d:
nwids

/etc/hostname.d/nwids:
BlackHole.nwid
ZWLan.nwid
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;But if you liked netctl, you might also wanted to read &lt;a href="http://vincentdelft.be/post/post_20171023"&gt;Vincet's Blog Post, 
Network Manager Control for OpenBSD&lt;/a&gt;. Basically &lt;a href="https://sourceforge.net/p/nmctl/code/ci/master/tree/"&gt;nmctl&lt;/a&gt; is an improved
version of rewritten in python. He also has an intergration section with openbox
(if you're using).&lt;/p&gt;
&lt;h2&gt;Filesystem Auto-Mount&lt;/h2&gt;
&lt;p&gt;To automatically mount USB storage sticks, &lt;a href="http://man.openbsd.org/hotplugd.8"&gt;hotplugd(8)&lt;/a&gt; is the tool. You can
find a nice example script in the manual or here at &lt;a href="https://www.tumfatig.net/20110903/automount-usb-stick-on-openbsd/"&gt;TuM'Fatig Automount USB
stick on OpenBSD&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ doas rcctl &lt;span class="nb"&gt;enable&lt;/span&gt; hotplugd
$ cat /etc/hotplug/attach
&lt;span class="c1"&gt;#!/bin/sh&lt;/span&gt;

&lt;span class="nv"&gt;DEVCLASS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;
&lt;span class="nv"&gt;DEVNAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$2&lt;/span&gt;
&lt;span class="nv"&gt;MOUNTROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/mnt&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;DEBUG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1

&lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nv"&gt;$DEVCLASS&lt;/span&gt; in
2&lt;span class="o"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# disk devices&lt;/span&gt;
        &lt;span class="nv"&gt;disklabel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;/sbin/disklabel &lt;span class="nv"&gt;$DEVNAME&lt;/span&gt; 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; /usr/bin/sed -n &lt;span class="s1"&gt;&amp;#39;/^disk: /s/^disk: //p&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$DEBUG&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; logger -i &lt;span class="s2"&gt;&amp;quot;hotplugd discovered DISKLABEL &lt;/span&gt;&lt;span class="nv"&gt;$disklabel&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nv"&gt;$disklabel&lt;/span&gt; in
        &lt;span class="s2"&gt;&amp;quot;SCSI disk&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
                &lt;span class="nv"&gt;slices&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;/sbin/disklabel &lt;span class="nv"&gt;$DEVNAME&lt;/span&gt; 2&amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
                sed -n &lt;span class="s1"&gt;&amp;#39;/^ *[abd-z]: /s/^ *\([abd-z]\):.*/\1/p&amp;#39;&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
                &lt;span class="k"&gt;for&lt;/span&gt; slice in &lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;slices&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$DEBUG&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; logger -i &lt;span class="s2"&gt;&amp;quot;hotplugd attaching SLICE &lt;/span&gt;&lt;span class="nv"&gt;$slice&lt;/span&gt;&lt;span class="s2"&gt; of DEVICE &lt;/span&gt;&lt;span class="nv"&gt;$DEVNAME&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
                        &lt;span class="o"&gt;[&lt;/span&gt; ! -d &lt;span class="nv"&gt;$MOUNTROOT&lt;/span&gt;/&lt;span class="nv"&gt;$DEVNAME$slice&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkdir -p -m &lt;span class="m"&gt;1777&lt;/span&gt; &lt;span class="nv"&gt;$MOUNTROOT&lt;/span&gt;/&lt;span class="nv"&gt;$DEVNAME$slice&lt;/span&gt;
                        mount /dev/&lt;span class="nv"&gt;$DEVNAME$slice&lt;/span&gt; &lt;span class="nv"&gt;$MOUNTROOT&lt;/span&gt;/&lt;span class="nv"&gt;$DEVNAME$slice&lt;/span&gt;
                &lt;span class="k"&gt;done&lt;/span&gt;
                &lt;span class="p"&gt;;;&lt;/span&gt;
        &lt;span class="k"&gt;esac&lt;/span&gt;
        &lt;span class="p"&gt;;;&lt;/span&gt;
3&lt;span class="o"&gt;)&lt;/span&gt;
        &lt;span class="c1"&gt;# network devices; requires hostname.$DEVNAME&lt;/span&gt;
        sh /etc/netstart &lt;span class="nv"&gt;$DEVNAME&lt;/span&gt;
        &lt;span class="p"&gt;;;&lt;/span&gt;
&lt;span class="k"&gt;esac&lt;/span&gt;
$ doas chmod &lt;span class="m"&gt;0755&lt;/span&gt; /etc/hotplug/attach
$ doas rcctl restart hotplugd
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;that's it. The next time you plug a USB stick, it will be mount at
&lt;code&gt;/mnt/${dev}${slice}&lt;/code&gt; directory automatically.&lt;/p&gt;
&lt;h2&gt;Desktop Notification Daemon&lt;/h2&gt;
&lt;p&gt;If you're using window managers like &lt;a href="https://i3wm.org"&gt;i3wm&lt;/a&gt;, you might find &lt;a href="https://dunst-project.org/"&gt;dunst&lt;/a&gt; a
perfect simple notification daemon which is avilable as package:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ doas pkg_add dunst
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That's it. you don't need to enable anything since sending any message to
notification, automatically runs dunst. To test the notification:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ notify-send helloWorld
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And here's a simple configuration I picked from a quick search on the web:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ cat ~/.config/dunst/dunstrc 
&lt;span class="o"&gt;[&lt;/span&gt;global&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;font&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; Iosevka Term 11

&lt;span class="c1"&gt;# Allow a small subset of html markup:&lt;/span&gt;
&lt;span class="c1"&gt;#   &amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#   &amp;lt;i&amp;gt;italic&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#   &amp;lt;s&amp;gt;strikethrough&amp;lt;/s&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#   &amp;lt;u&amp;gt;underline&amp;lt;/u&amp;gt;&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# For a complete reference see&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;lt;http://developer.gnome.org/pango/stable/PangoMarkupFormat.html&amp;gt;.&lt;/span&gt;
&lt;span class="c1"&gt;# If markup is not allowed, those tags will be stripped out of the&lt;/span&gt;
&lt;span class="c1"&gt;# message.&lt;/span&gt;
&lt;span class="nv"&gt;allow_markup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes
&lt;span class="nv"&gt;plain_text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; no

&lt;span class="c1"&gt;# The format of the message.  Possible variables are:&lt;/span&gt;
&lt;span class="c1"&gt;#   %a  appname&lt;/span&gt;
&lt;span class="c1"&gt;#   %s  summary&lt;/span&gt;
&lt;span class="c1"&gt;#   %b  body&lt;/span&gt;
&lt;span class="c1"&gt;#   %i  iconname (including its path)&lt;/span&gt;
&lt;span class="c1"&gt;#   %I  iconname (without its path)&lt;/span&gt;
&lt;span class="c1"&gt;#   %p  progress value if set ([  0%] to [100%]) or nothing&lt;/span&gt;
&lt;span class="c1"&gt;# Markup is allowed&lt;/span&gt;
&lt;span class="nv"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;lt;b&amp;gt;%s&amp;lt;/b&amp;gt;\n%b&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Sort messages by urgency.&lt;/span&gt;
&lt;span class="nv"&gt;sort&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; no

&lt;span class="c1"&gt;# Show how many messages are currently hidden (because of geometry).&lt;/span&gt;
&lt;span class="nv"&gt;indicate_hidden&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes

&lt;span class="c1"&gt;# Alignment of message text.&lt;/span&gt;
&lt;span class="c1"&gt;# Possible values are &amp;quot;left&amp;quot;, &amp;quot;center&amp;quot; and &amp;quot;right&amp;quot;.&lt;/span&gt;
&lt;span class="nv"&gt;alignment&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; center

&lt;span class="c1"&gt;# The frequency with wich text that is longer than the notification&lt;/span&gt;
&lt;span class="c1"&gt;# window allows bounces back and forth.&lt;/span&gt;
&lt;span class="c1"&gt;# This option conflicts with &amp;quot;word_wrap&amp;quot;.&lt;/span&gt;
&lt;span class="c1"&gt;# Set to 0 to disable.&lt;/span&gt;
&lt;span class="nv"&gt;bounce_freq&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 0

&lt;span class="c1"&gt;# Show age of message if message is older than show_age_threshold&lt;/span&gt;
&lt;span class="c1"&gt;# seconds.&lt;/span&gt;
&lt;span class="c1"&gt;# Set to -1 to disable.&lt;/span&gt;
&lt;span class="nv"&gt;show_age_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; -1

&lt;span class="c1"&gt;# Split notifications into multiple lines if they don&amp;#39;t fit into&lt;/span&gt;
&lt;span class="c1"&gt;# geometry.&lt;/span&gt;
&lt;span class="nv"&gt;word_wrap&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes

&lt;span class="c1"&gt;# Ignore newlines &amp;#39;\n&amp;#39; in notifications.&lt;/span&gt;
&lt;span class="nv"&gt;ignore_newline&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; no

&lt;span class="c1"&gt;# Hide duplicate&amp;#39;s count and stack them&lt;/span&gt;
&lt;span class="nv"&gt;stack_duplicates&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes
&lt;span class="nv"&gt;hide_duplicates_count&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes


&lt;span class="c1"&gt;# The geometry of the window:&lt;/span&gt;
&lt;span class="c1"&gt;#   [{width}]x{height}[+/-{x}+/-{y}]&lt;/span&gt;
&lt;span class="c1"&gt;# The geometry of the message window.&lt;/span&gt;
&lt;span class="c1"&gt;# The height is measured in number of notifications everything else&lt;/span&gt;
&lt;span class="c1"&gt;# in pixels.  If the width is omitted but the height is given&lt;/span&gt;
&lt;span class="c1"&gt;# (&amp;quot;-geometry x2&amp;quot;), the message window expands over the whole screen&lt;/span&gt;
&lt;span class="c1"&gt;# (dmenu-like).  If width is 0, the window expands to the longest&lt;/span&gt;
&lt;span class="c1"&gt;# message displayed.  A positive x is measured from the left, a&lt;/span&gt;
&lt;span class="c1"&gt;# negative from the right side of the screen.  Y is measured from&lt;/span&gt;
&lt;span class="c1"&gt;# the top and down respectevly.&lt;/span&gt;
&lt;span class="c1"&gt;# The width can be negative.  In this case the actual width is the&lt;/span&gt;
&lt;span class="c1"&gt;# screen width minus the width defined in within the geometry option.&lt;/span&gt;
&lt;span class="c1"&gt;#geometry = &amp;quot;250x50-40+40&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;geometry&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;300x50-15+49&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;# Shrink window if it&amp;#39;s smaller than the width.  Will be ignored if&lt;/span&gt;
&lt;span class="c1"&gt;# width is 0.&lt;/span&gt;
&lt;span class="nv"&gt;shrink&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; no

&lt;span class="c1"&gt;# The transparency of the window.  Range: [0; 100].&lt;/span&gt;
&lt;span class="c1"&gt;# This option will only work if a compositing windowmanager is&lt;/span&gt;
&lt;span class="c1"&gt;# present (e.g. xcompmgr, compiz, etc.).&lt;/span&gt;
&lt;span class="nv"&gt;transparency&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 5

&lt;span class="c1"&gt;# Don&amp;#39;t remove messages, if the user is idle (no mouse or keyboard input)&lt;/span&gt;
&lt;span class="c1"&gt;# for longer than idle_threshold seconds.&lt;/span&gt;
&lt;span class="c1"&gt;# Set to 0 to disable.&lt;/span&gt;
&lt;span class="nv"&gt;idle_threshold&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 0

&lt;span class="c1"&gt;# Which monitor should the notifications be displayed on.&lt;/span&gt;
&lt;span class="nv"&gt;monitor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 0

&lt;span class="c1"&gt;# Display notification on focused monitor.  Possible modes are:&lt;/span&gt;
&lt;span class="c1"&gt;#   mouse: follow mouse pointer&lt;/span&gt;
&lt;span class="c1"&gt;#   keyboard: follow window with keyboard focus&lt;/span&gt;
&lt;span class="c1"&gt;#   none: don&amp;#39;t follow anything&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;quot;keyboard&amp;quot; needs a windowmanager that exports the&lt;/span&gt;
&lt;span class="c1"&gt;# _NET_ACTIVE_WINDOW property.&lt;/span&gt;
&lt;span class="c1"&gt;# This should be the case for almost all modern windowmanagers.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# If this option is set to mouse or keyboard, the monitor option&lt;/span&gt;
&lt;span class="c1"&gt;# will be ignored.&lt;/span&gt;
&lt;span class="nv"&gt;follow&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; none

&lt;span class="c1"&gt;# Should a notification popped up from history be sticky or timeout&lt;/span&gt;
&lt;span class="c1"&gt;# as if it would normally do.&lt;/span&gt;
&lt;span class="nv"&gt;sticky_history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; yes

&lt;span class="c1"&gt;# Maximum amount of notifications kept in history&lt;/span&gt;
&lt;span class="nv"&gt;history_length&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 15

&lt;span class="c1"&gt;# Display indicators for URLs (U) and actions (A).&lt;/span&gt;
&lt;span class="nv"&gt;show_indicators&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; no

&lt;span class="c1"&gt;# The height of a single line.  If the height is smaller than the&lt;/span&gt;
&lt;span class="c1"&gt;# font height, it will get raised to the font height.&lt;/span&gt;
&lt;span class="c1"&gt;# This adds empty space above and under the text.&lt;/span&gt;
&lt;span class="nv"&gt;line_height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 3

&lt;span class="c1"&gt;# Draw a line of &amp;quot;separatpr_height&amp;quot; pixel height between two&lt;/span&gt;
&lt;span class="c1"&gt;# notifications.&lt;/span&gt;
&lt;span class="c1"&gt;# Set to 0 to disable.&lt;/span&gt;
&lt;span class="nv"&gt;separator_height&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 2

&lt;span class="c1"&gt;# Padding between text and separator.&lt;/span&gt;
&lt;span class="nv"&gt;padding&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 6

&lt;span class="c1"&gt;# Horizontal padding.&lt;/span&gt;
&lt;span class="nv"&gt;horizontal_padding&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 6

&lt;span class="c1"&gt;# Define a color for the separator.&lt;/span&gt;
&lt;span class="c1"&gt;# possible values are:&lt;/span&gt;
&lt;span class="c1"&gt;#  * auto: dunst tries to find a color fitting to the background;&lt;/span&gt;
&lt;span class="c1"&gt;#  * foreground: use the same color as the foreground;&lt;/span&gt;
&lt;span class="c1"&gt;#  * frame: use the same color as the frame;&lt;/span&gt;
&lt;span class="c1"&gt;#  * anything else will be interpreted as a X color.&lt;/span&gt;
&lt;span class="nv"&gt;separator_color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; frame

&lt;span class="c1"&gt;# Print a notification on startup.&lt;/span&gt;
&lt;span class="c1"&gt;# This is mainly for error detection, since dbus (re-)starts dunst&lt;/span&gt;
&lt;span class="c1"&gt;# automatically after a crash.&lt;/span&gt;
&lt;span class="nv"&gt;startup_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;false&lt;/span&gt;

&lt;span class="c1"&gt;# dmenu path.&lt;/span&gt;
&lt;span class="nv"&gt;dmenu&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /usr/bin/dmenu -p dunst:

&lt;span class="c1"&gt;# Browser for opening urls in context menu.&lt;/span&gt;
&lt;span class="nv"&gt;browser&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /usr/bin/firefox -new-tab

&lt;span class="c1"&gt;# Align icons left/right/off&lt;/span&gt;
&lt;span class="nv"&gt;icon_position&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; off
&lt;span class="nv"&gt;max_icon_size&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 80

&lt;span class="c1"&gt;# Paths to default icons.&lt;/span&gt;
&lt;span class="nv"&gt;icon_folders&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; /usr/share/icons/Paper/16x16/mimetypes/:/usr/share/icons/Paper/48x48/status/:/usr/share/icons/Paper/16x16/devices/:/usr/share/icons/Paper/48x48/notifications/:/usr/share/icons/Paper/48x48/emblems/


&lt;span class="o"&gt;[&lt;/span&gt;frame&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;width&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 3
&lt;span class="nv"&gt;color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#8EC07C&amp;quot;&lt;/span&gt;

&lt;span class="o"&gt;[&lt;/span&gt;shortcuts&lt;span class="o"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# Shortcuts are specified as [modifier+][modifier+]...key&lt;/span&gt;
&lt;span class="c1"&gt;# Available modifiers are &amp;quot;ctrl&amp;quot;, &amp;quot;mod1&amp;quot; (the alt-key), &amp;quot;mod2&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;quot;mod3&amp;quot; and &amp;quot;mod4&amp;quot; (windows-key).&lt;/span&gt;
&lt;span class="c1"&gt;# Xev might be helpful to find names for keys.&lt;/span&gt;

&lt;span class="c1"&gt;# Close notification.&lt;/span&gt;
&lt;span class="nv"&gt;close&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; ctrl+space

&lt;span class="c1"&gt;# Close all notifications.&lt;/span&gt;
&lt;span class="nv"&gt;close_all&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; ctrl+shift+space

&lt;span class="c1"&gt;# Redisplay last message(s).&lt;/span&gt;
&lt;span class="c1"&gt;# On the US keyboard layout &amp;quot;grave&amp;quot; is normally above TAB and left&lt;/span&gt;
&lt;span class="c1"&gt;# of &amp;quot;1&amp;quot;.&lt;/span&gt;
&lt;span class="nb"&gt;history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; ctrl+grave

&lt;span class="c1"&gt;# Context menu.&lt;/span&gt;
&lt;span class="nv"&gt;context&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; ctrl+shift+period

&lt;span class="o"&gt;[&lt;/span&gt;urgency_low&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="c1"&gt;# IMPORTANT: colors have to be defined in quotation marks.&lt;/span&gt;
&lt;span class="c1"&gt;# Otherwise the &amp;quot;#&amp;quot; and following would be interpreted as a comment.&lt;/span&gt;
&lt;span class="nv"&gt;frame_color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#3B7C87&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;foreground&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#3B7C87&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;background&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#191311&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#background = &amp;quot;#2B313C&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;timeout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 4

&lt;span class="o"&gt;[&lt;/span&gt;urgency_normal&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;frame_color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#5B8234&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;foreground&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#5B8234&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;background&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#191311&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#background = &amp;quot;#2B313C&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;timeout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 6

&lt;span class="o"&gt;[&lt;/span&gt;urgency_critical&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="nv"&gt;frame_color&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#B7472A&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;foreground&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#B7472A&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;background&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;#191311&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#background = &amp;quot;#2B313C&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;timeout&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 8


&lt;span class="c1"&gt;# Every section that isn&amp;#39;t one of the above is interpreted as a rules to&lt;/span&gt;
&lt;span class="c1"&gt;# override settings for certain messages.&lt;/span&gt;
&lt;span class="c1"&gt;# Messages can be matched by &amp;quot;appname&amp;quot;, &amp;quot;summary&amp;quot;, &amp;quot;body&amp;quot;, &amp;quot;icon&amp;quot;, &amp;quot;category&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;quot;msg_urgency&amp;quot; and you can override the &amp;quot;timeout&amp;quot;, &amp;quot;urgency&amp;quot;, &amp;quot;foreground&amp;quot;,&lt;/span&gt;
&lt;span class="c1"&gt;# &amp;quot;background&amp;quot;, &amp;quot;new_icon&amp;quot; and &amp;quot;format&amp;quot;.&lt;/span&gt;
&lt;span class="c1"&gt;# Shell-like globbing will get expanded.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# SCRIPTING&lt;/span&gt;
&lt;span class="c1"&gt;# You can specify a script that gets run when the rule matches by&lt;/span&gt;
&lt;span class="c1"&gt;# setting the &amp;quot;script&amp;quot; option.&lt;/span&gt;
&lt;span class="c1"&gt;# The script will be called as follows:&lt;/span&gt;
&lt;span class="c1"&gt;#   script appname summary body icon urgency&lt;/span&gt;
&lt;span class="c1"&gt;# where urgency can be &amp;quot;LOW&amp;quot;, &amp;quot;NORMAL&amp;quot; or &amp;quot;CRITICAL&amp;quot;.&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# NOTE: if you don&amp;#39;t want a notification to be displayed, set the format&lt;/span&gt;
&lt;span class="c1"&gt;# to &amp;quot;&amp;quot;.&lt;/span&gt;
&lt;span class="c1"&gt;# NOTE: It might be helpful to run dunst -print in a terminal in order&lt;/span&gt;
&lt;span class="c1"&gt;# to find fitting options for rules.&lt;/span&gt;

&lt;span class="c1"&gt;#[espeak]&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = &amp;quot;*&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#    script = dunst_espeak.sh&lt;/span&gt;

&lt;span class="c1"&gt;#[script-test]&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = &amp;quot;*script*&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#    script = dunst_test.sh&lt;/span&gt;

&lt;span class="c1"&gt;#[ignore]&lt;/span&gt;
&lt;span class="c1"&gt;#    # This notification will not be displayed&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = &amp;quot;foobar&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#    format = &amp;quot;&amp;quot;&lt;/span&gt;

&lt;span class="c1"&gt;#[signed_on]&lt;/span&gt;
&lt;span class="c1"&gt;#    appname = Pidgin&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = &amp;quot;*signed on*&amp;quot;&lt;/span&gt;
&lt;span class="c1"&gt;#    urgency = low&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#[signed_off]&lt;/span&gt;
&lt;span class="c1"&gt;#    appname = Pidgin&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = *signed off*&lt;/span&gt;
&lt;span class="c1"&gt;#    urgency = low&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#[says]&lt;/span&gt;
&lt;span class="c1"&gt;#    appname = Pidgin&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = *says*&lt;/span&gt;
&lt;span class="c1"&gt;#    urgency = critical&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;#[twitter]&lt;/span&gt;
&lt;span class="c1"&gt;#    appname = Pidgin&lt;/span&gt;
&lt;span class="c1"&gt;#    summary = *twitter.com*&lt;/span&gt;
&lt;span class="c1"&gt;#    urgency = normal&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# vim: ft=cfg&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="bsd"></category><category term="openbsd"></category><category term="netctl"></category><category term="wifi"></category><category term="nmctl"></category><category term="network-manager"></category><category term="hotplugd"></category><category term="automount"></category><category term="dunst"></category></entry><entry><title>Privileged Seperated Processes</title><link href="http://bijanebrahimi.github.io/blog/privileged-seperated-processes.html" rel="alternate"></link><published>2017-10-24T20:17:00+03:30</published><updated>2017-10-24T20:17:00+03:30</updated><author><name>Bijan</name></author><id>tag:bijanebrahimi.github.io,2017-10-24:/blog/privileged-seperated-processes.html</id><summary type="html">&lt;h2&gt;An Intorduction&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In computer programming and computer security, privilege separation is a
technique in which a program is divided into parts which are limited to the
specific privileges they require in order to perform a specific task. This is
used to mitigate the potential damage of a computer security vulnerability …&lt;/p&gt;&lt;/blockquote&gt;</summary><content type="html">&lt;h2&gt;An Intorduction&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In computer programming and computer security, privilege separation is a
technique in which a program is divided into parts which are limited to the
specific privileges they require in order to perform a specific task. This is
used to mitigate the potential damage of a computer security vulnerability.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Privilege_separation"&gt;Privilege Separation&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are &lt;a href="http://www.openbsd.org/papers/ven05-deraadt/"&gt;many great resources&lt;/a&gt; describing the architecture of a priviledge
separated process and the need for such architecrues, which I'm sure you already
read or will ;-)&lt;/p&gt;
&lt;p&gt;What I'm really interested in, is the way the priviledged separated processes
are able to talk to each other. Hope you haveare already familliar with Unix
IPCs, but if you don't, here's &lt;a href="http://beej.us/guide/bgipc/"&gt;Beej's Guide to Unix IPC&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is (hopefully) the first of a few posts about writing privsep processes.
Hope it helps.&lt;/p&gt;
&lt;h2&gt;socketpair(2)&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;The socketpair() call creates an unnamed pair of connected sockets in the
specified domain d, of the specified type, and using the optionally
specified protocol.  The descriptors used in referencing the new sockets
are returned in sv[0] and sv&lt;a href="https://en.wikipedia.org/wiki/Privilege_separation"&gt;1&lt;/a&gt;.  The two sockets are indistinguishable.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Unlike &lt;a href="http://man.openbsd.org/pipe.2"&gt;pipe(2)&lt;/a&gt; which are uni-directional way of sending messages,
&lt;a href="http://man.openbsd.org/socket.2"&gt;socket(2)&lt;/a&gt; are bi-directional, which means they are perfect for processes to talk
back to each others. &lt;a href="http://man.openbsd.org/socketpair.2"&gt;socketpair(2)&lt;/a&gt; will create two of them for us. each
connected to the other using the specified Protocol.&lt;/p&gt;
&lt;p&gt;&lt;span class="graphviz" style="text-align: center;"&gt;&lt;img src="data:image/png;base64,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"&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The above, Illustrates a socketpair of type &lt;code&gt;UNIX Sockets&lt;/code&gt; shared by the aprent
and the child. Since the sockets are indistinguishable, there's no difference
which uses which.&lt;/p&gt;
&lt;p&gt;The following snippet, Creates a socket pair and pass it to the child:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;err.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;sys/wait.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;sys/types.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;sys/socket.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;&lt;/span&gt;

&lt;span class="cp"&gt;#define MAX_BUF_SIZE      128&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;child_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;parent_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;pid_t&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt;
&lt;span class="nf"&gt;main&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;pid_t&lt;/span&gt; &lt;span class="n"&gt;child_pid&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;socketpair&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AF_UNIX&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;SOCK_STREAM&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;PF_UNSPEC&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;errx&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Failed to open socketpair&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;child_pid&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fork&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;errx&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Failed to fork the process&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;child_pid&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;parent_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;child_pid&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;child_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="cm"&gt;/* Not reachable */&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;
&lt;span class="nf"&gt;child_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MAX_BUF_SIZE&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

    &lt;span class="n"&gt;snprintf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MAX_BUF_SIZE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MAX_BUF_SIZE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;errx&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Failed to write Message&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;
&lt;span class="nf"&gt;parent_process&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;pid_t&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;ssize_t&lt;/span&gt; &lt;span class="n"&gt;nbytes&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MAX_BUF_SIZE&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;nbytes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;MAX_BUF_SIZE&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;warn&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Failed to read&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nbytes&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;nbytes&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;printf&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Received &lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\&amp;quot;&lt;/span&gt;&lt;span class="s"&gt; from the Child&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;waitpid&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;WAIT_ANY&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;WEXITSTATUS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And the output is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ gcc -o privsep main.c
$ ./privsep
Received &lt;span class="s2"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt; from the Child
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tips:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Since the child process shares rge same memory address with it's parent, it
has access to all the descriptors the parent has opened, so it is a good
practice to close all unnecessary descriptors (like standard I/O) before
actually running the child's logic after calling the &lt;code&gt;fork(2)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the next post, I will introduce the &lt;code&gt;imsg_init(3)&lt;/code&gt;. The OpenBSD way of
writing privsep processes.&lt;/p&gt;</content><category term="openbsd"></category><category term="imsg_init"></category><category term="socket_pair"></category><category term="privsep"></category></entry><entry><title>Pelican on OpenBSD</title><link href="http://bijanebrahimi.github.io/blog/pelican-on-openbsd.html" rel="alternate"></link><published>2017-10-13T22:49:00+03:30</published><updated>2017-10-13T22:49:00+03:30</updated><author><name>Bijan</name></author><id>tag:bijanebrahimi.github.io,2017-10-13:/blog/pelican-on-openbsd.html</id><summary type="html">&lt;p&gt;If you haven't introduced to Pelican yet, you should probably read from this
blog:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Pelican is a static site generator, written in Python, that requires no
database or server-side logic.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://blog.getpelican.com/"&gt;blog.getpelican.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;By creating a pelican project, a Mekfile will be created (by your confirmation)
to ease the process …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you haven't introduced to Pelican yet, you should probably read from this
blog:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Pelican is a static site generator, written in Python, that requires no
database or server-side logic.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://blog.getpelican.com/"&gt;blog.getpelican.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;By creating a pelican project, a Mekfile will be created (by your confirmation)
to ease the process of writing and publishing your posts, However the format of
this Makefile is in GNU Make format and you'll get the following errors if you
run it on your BSD (FreeBSD and OpenBSD as I am aware of):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ make devserver
No closing parenthesis in archive specification
*** Parse error in /path/to/pelican/project: Error in archive specification: &lt;span class="s2"&gt;&amp;quot;(0, 1)&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:31&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;endif&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:33&lt;span class="o"&gt;)&lt;/span&gt;
No closing parenthesis in archive specification
*** Parse error: Error in archive specification: &lt;span class="s2"&gt;&amp;quot;(0, 1)&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:36&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;endif&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:38&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;PORT&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:74&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;else&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:76&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;endif&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:78&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;SERVER&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:81&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;else&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:83&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;endif&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:85&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;PORT&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:89&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;else&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:91&lt;span class="o"&gt;)&lt;/span&gt;
*** Parse error: Need an operator in &lt;span class="s1"&gt;&amp;#39;endif&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;Makefile:93&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There's plentty of good resources online, referencing the differences. For
portable makefiles, you should probably read &lt;a href="https://www.gnu.org/software/make/manual/html_node/Features.html"&gt;Features of GNU make&lt;/a&gt; and 
&lt;a href="https://www.gnu.org/software/make/manual/html_node/Missing.html"&gt;Features of GNU make&lt;/a&gt; and of course, The OpenBSD's &lt;a href="https://man.openbsd.org/make.1"&gt;make(1)&lt;/a&gt; and The
FreeBSD's &lt;a href="https://www.freebsd.org/cgi/man.cgi?query=make(1)"&gt;make(1)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The following patch illustrates the changes and I hope it helps others:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="gh"&gt;diff --git a/Makefile b/Makefile&lt;/span&gt;
&lt;span class="gh"&gt;index d1ddf80..d87b1e9 100644&lt;/span&gt;
&lt;span class="gd"&gt;--- a/Makefile&lt;/span&gt;
&lt;span class="gi"&gt;+++ b/Makefile&lt;/span&gt;
&lt;span class="gu"&gt;@@ -2,7 +2,7 @@ PY?=python3&lt;/span&gt;
 PELICAN?=pelican
 PELICANOPTS=

&lt;span class="gd"&gt;-BASEDIR=$(CURDIR)&lt;/span&gt;
&lt;span class="gi"&gt;+BASEDIR=$(.CURDIR)&lt;/span&gt;
 INPUTDIR=$(BASEDIR)/content
 OUTPUTDIR=$(BASEDIR)/output
 CONFFILE=$(BASEDIR)/pelicanconf.py
&lt;span class="gu"&gt;@@ -28,14 +28,14 @@ DROPBOX_DIR=~/Dropbox/Public/&lt;/span&gt;
 GITHUB_PAGES_BRANCH=gh-pages

 DEBUG ?= 0
&lt;span class="gd"&gt;-ifeq ($(DEBUG), 1)&lt;/span&gt;
&lt;span class="gi"&gt;+.if $(DEBUG) == 1&lt;/span&gt;
        PELICANOPTS += -D
&lt;span class="gd"&gt;-endif&lt;/span&gt;
&lt;span class="gi"&gt;+.endif&lt;/span&gt;

 RELATIVE ?= 0
&lt;span class="gd"&gt;-ifeq ($(RELATIVE), 1)&lt;/span&gt;
&lt;span class="gi"&gt;+.if $(RELATIVE) == 1&lt;/span&gt;
        PELICANOPTS += --relative-urls
&lt;span class="gd"&gt;-endif&lt;/span&gt;
&lt;span class="gi"&gt;+.endif&lt;/span&gt;

 help:
        @echo &amp;#39;Makefile for a pelican Web site                                           &amp;#39;
&lt;span class="gu"&gt;@@ -71,26 +71,26 @@ regenerate:&lt;/span&gt;
        $(PELICAN) -r $(INPUTDIR) -o $(OUTPUTDIR) -s $(CONFFILE) $(PELICANOPTS)

 serve:
&lt;span class="gd"&gt;-ifdef PORT&lt;/span&gt;
&lt;span class="gi"&gt;+.ifdef PORT&lt;/span&gt;
        cd $(OUTPUTDIR) &amp;amp;&amp;amp; $(PY) -m pelican.server $(PORT)
&lt;span class="gd"&gt;-else&lt;/span&gt;
&lt;span class="gi"&gt;+.else&lt;/span&gt;
        cd $(OUTPUTDIR) &amp;amp;&amp;amp; $(PY) -m pelican.server
&lt;span class="gd"&gt;-endif&lt;/span&gt;
&lt;span class="gi"&gt;+.endif&lt;/span&gt;

 serve-global:
&lt;span class="gd"&gt;-ifdef SERVER&lt;/span&gt;
&lt;span class="gi"&gt;+.ifdef SERVER&lt;/span&gt;
        cd $(OUTPUTDIR) &amp;amp;&amp;amp; $(PY) -m pelican.server 80 $(SERVER)
&lt;span class="gd"&gt;-else&lt;/span&gt;
&lt;span class="gi"&gt;+.else&lt;/span&gt;
        cd $(OUTPUTDIR) &amp;amp;&amp;amp; $(PY) -m pelican.server 80 0.0.0.0
&lt;span class="gd"&gt;-endif&lt;/span&gt;
&lt;span class="gi"&gt;+.endif&lt;/span&gt;


 devserver:
&lt;span class="gd"&gt;-ifdef PORT&lt;/span&gt;
&lt;span class="gi"&gt;+.ifdef PORT&lt;/span&gt;
        $(BASEDIR)/develop_server.sh restart $(PORT)
&lt;span class="gd"&gt;-else&lt;/span&gt;
&lt;span class="gi"&gt;+.else&lt;/span&gt;
        $(BASEDIR)/develop_server.sh restart
&lt;span class="gd"&gt;-endif&lt;/span&gt;
&lt;span class="gi"&gt;+.endif&lt;/span&gt;

 stopserver:
        $(BASEDIR)/develop_server.sh stop
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;More to Read:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.quora.com/What-is-the-difference-between-GNU-Makefile-and-BSD-Makefile"&gt;What is the difference between GNU Makefile and BSD Makefile?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="bsd"></category><category term="openbsd"></category><category term="pelican"></category><category term="Makefile"></category><category term="python"></category></entry><entry><title>OpenBSD 6.2 Upgrade</title><link href="http://bijanebrahimi.github.io/blog/openbsd-62-upgrade.html" rel="alternate"></link><published>2017-10-10T22:49:00+03:30</published><updated>2017-10-10T22:49:00+03:30</updated><author><name>Bijan</name></author><id>tag:bijanebrahimi.github.io,2017-10-10:/blog/openbsd-62-upgrade.html</id><summary type="html">&lt;p&gt;The Upgrading Process is stupidly easy. The process is &lt;a href="https://www.openbsd.org/faq/upgrade62.html"&gt;well documented&lt;/a&gt; for each release
and is available after the release of binary packages and when install images are out but
before going any further, please read the OpenBSD 6.2 &lt;a href="4"&gt;new features&lt;/a&gt; for the list of
changes and improvements. &lt;/p&gt;
&lt;p&gt;The …&lt;/p&gt;</summary><content type="html">&lt;p&gt;The Upgrading Process is stupidly easy. The process is &lt;a href="https://www.openbsd.org/faq/upgrade62.html"&gt;well documented&lt;/a&gt; for each release
and is available after the release of binary packages and when install images are out but
before going any further, please read the OpenBSD 6.2 &lt;a href="4"&gt;new features&lt;/a&gt; for the list of
changes and improvements. &lt;/p&gt;
&lt;p&gt;The process is split into two separate processes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, You should upgrade the base system using one of two possibles. Using a bootable disk
image or using the manual process which is not recommended.&lt;/li&gt;
&lt;li&gt;Second, Upgrading the binary packages.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I choose Upgrading via a bootable media since it is the highly recommended way:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;$curl&lt;/span&gt; -o install62.fs https://openbsd.mirror.netelligent.ca/pub/OpenBSD/6.2/amd64/install62.fs
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Writing the image to the USB stick was a matter of executing &lt;code&gt;dd&lt;/code&gt; command (as always):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ sysctl hw.disknames
hw.disknames&lt;span class="o"&gt;=&lt;/span&gt;sd0:da0bedc25009303c,cd0:,sd1:9e5b01f8dc3ea3f3
$ doas dd &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;install62.fs &lt;span class="nv"&gt;of&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/rsd1c &lt;span class="nv"&gt;bs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1m
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Again, if you're unfamiliar with anything like OpenBSD way of &lt;a href="https://www.openbsd.org/faq/faq14.html"&gt;dealing with storage devices&lt;/a&gt; and
other things, please consider reading the entire &lt;a href="https://www.openbsd.org/faq/"&gt;FAQ&lt;/a&gt;. It really pays off, I promise ;-)&lt;/p&gt;
&lt;p&gt;Now the next move is follow the pre-upgrade which I actually forgot. For my currect
setup, it was only to manually remove the man pages to avoid having old manpages in
the new system after successfull upgrade:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ doas rm -rf /usr/share/man/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now, Just rebooted the machine and booted from the USB stick and Press (U)pgrade and that was it.
After confirming the keyboard layout and my laptop's primary disk where my OpenBSD installation
resides, the process of Upgrading &lt;strong&gt;The Base System&lt;/strong&gt; was done. After completion and rebooting
the machine, the first thing the new OS did was retrieving the newer firmwares which I skipped
since at the time, I had no (reliable) Internet connection, but don't worry, you can do it later:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ uname -a
OpenBSD localhost.lenovo 6.2 GENERIC.MP#134 amd64
$ doas fw_update
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now, it's time to &lt;strong&gt;update the binary packages&lt;/strong&gt; since their dependencies on the base system has
just been upgraded. But that was just one command away:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ doas pkg_add -u
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That was it. Hope to write more about OpenBSD in the near future.&lt;/p&gt;</content><category term="openbsd"></category><category term="upgrade"></category></entry></feed>